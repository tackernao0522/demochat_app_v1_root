# Demochat Application

# テストケース一覧

## LikesHelper

### #like_count_message

- 正しいいいねの数を返すこと
- いいねがない場合に 0 likes を返すこと

## MessagesHelper

### #format_message

- メッセージをフォーマットすること

## Like

- 有効なファクトリを持つこと
- ユーザーがなければ無効であること
- メッセージがなければ無効であること

## Message

- 有効な属性があれば有効であること
- 内容がなければ無効であること

## User

- 有効な属性があれば有効であること
- 名前がなければ無効であること
- メールアドレスがなければ無効であること
- 重複したメールアドレスがある場合は無効であること

## Auth::Registrations

### POST /auth

- ユーザーが正常に登録されること
- パスワードが一致しない場合は登録に失敗すること
- メールアドレスが既に存在する場合は登録に失敗すること

## Auth::Sessions

### POST /auth/sign_in

- ユーザーが正常にログインできること
- 無効なパスワードでログインに失敗すること

### DELETE /auth/sign_out

- ユーザーが正常にログアウトできること

## Likes API - POST /messages/:id/likes

### 認証なしの場合

- 401 エラーを返すこと

### 認証ありの場合

- メッセージにいいねを作成できること
- 同じメッセージに複数回いいねを作成しようとするとエラーが返されること

## Likes API - DELETE /likes/:id

### 認証なしの場合

- 401 エラーを返すこと

### 認証ありの場合

- いいねを削除できること
- 存在しないいいねを削除しようとするとエラーが返されること

## GET /messages メッセージの内容が正しいこと

- リクエストが成功すること
- メッセージが JSON 形式で返されること

## GET /messages メッセージの詳細属性が正しいこと

- 各メッセージの属性が正しいこと

## GET /messages いいね情報が正しいこと

- いいね情報が正しいこと

## GET /messages 認証なしの場合

- 認証なしの場合
  - 401 エラーを返すこと
